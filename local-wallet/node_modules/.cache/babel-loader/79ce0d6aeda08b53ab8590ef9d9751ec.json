{"ast":null,"code":"import _slicedToArray from \"/home/aforbers/burner-wallet-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/home/aforbers/burner-wallet-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 100%;\\n\"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"margin-top: 20px;\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n  flex: 1;\\n  display: flex;\\n\\n  & div {\\n    display: none;\\n  }\\n\\n  & section {\\n    padding-top: 0 !important;\\n    overflow: initial !important;\\n  }\\n  & video {\\n    object-fit: contain !important;\\n  }\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n  flex: 1;\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  height: 100px;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  font-size: var(--l3-fs);\\n  line-height: var(--l3-lh);\\n  font-weight: var(--l3-weight);\\n  text-align: left;\\n  margin: 0px;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  font-size: var(--l1-fs);\\n  line-height: var(--l1-lh);\\n  font-weight: var(--l1-weight);\\n  margin: 0;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  color: rgb(0, 14, 26);\\n  background-color: rgb(255, 255, 255);\\n  display: flex;\\n  flex-direction: column;\\n  align-content: flex-start;\\n  justify-content: flex-start;\\n  box-shadow: rgba(0, 0, 0, 0.1) 0px 8px 16px;\\n  flex: 1;\\n  border-radius: 8px;\\n  padding: 16px;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n  background: rgba(139, 139, 144, 0.7);\\n  z-index: 100;\\n  padding: 20px;\\n  display: flex;\\n  flex-direction: column;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useRef, useState, useEffect } from 'react';\nimport { useBurner } from '@burner-wallet/ui-core';\nimport styled from 'styled-components';\nimport Button from './Button';\nvar Overlay = styled.div(_templateObject());\nvar Container = styled.div(_templateObject2());\nvar Header = styled.h1(_templateObject3());\nvar TextInstruction = styled.p(_templateObject4());\nvar CameraIconContainer = styled.div(_templateObject5());\nvar CameraIcon = styled.svg(_templateObject6());\n\nvar makeReader = function makeReader(_component) {\n  return styled(_component)(_templateObject7());\n};\n\nvar CloseContainer = styled.div(_templateObject8());\nvar CloseButton = styled(Button)(_templateObject9());\n\nvar Scanner = function Scanner() {\n  var reader = useRef(null);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      fallback = _useState2[0],\n      setFallback = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      Reader = _useState4[0],\n      setReader = _useState4[1];\n\n  var _useBurner = useBurner(),\n      completeScan = _useBurner.completeScan;\n\n  useEffect(function () {\n    if (completeScan && !Reader) {\n      import('react-qr-reader').then(function (module) {\n        return setReader(makeReader(module.default));\n      });\n    }\n  }, [completeScan]);\n\n  if (!completeScan) {\n    return null;\n  }\n\n  return React.createElement(Overlay, null, React.createElement(Container, null, React.createElement(Header, null, \"Scan\"), React.createElement(TextInstruction, null, fallback ? 'Upload a photo of a QR code' : 'Place the QR code within the scanner'), fallback && React.createElement(CameraIconContainer, {\n    onClick: function onClick() {\n      return reader.current.openImageDialog();\n    }\n  }, React.createElement(CameraIcon, {\n    viewBox: \"0 0 24 24\"\n  }, React.createElement(\"path\", {\n    fill: \"#111111\",\n    d: \"M4,4H7L9,2H15L17,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9Z\"\n  }))), Reader ? React.createElement(Reader, {\n    delay: 300,\n    ref: reader,\n    legacyMode: fallback,\n    onError: function onError(err) {\n      console.error(err);\n      setFallback(true);\n    },\n    onScan: function onScan(address) {\n      if (address) {\n        completeScan(address);\n      }\n    }\n  }) : React.createElement(\"div\", null, \"Loading...\")), React.createElement(CloseContainer, null, React.createElement(CloseButton, {\n    onClick: function onClick() {\n      return completeScan(null);\n    }\n  }, \"Close\")));\n};\n\nexport default Scanner;","map":null,"metadata":{},"sourceType":"module"}