{"ast":null,"code":"import _classCallCheck from \"/home/aforbers/burner-wallet-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/aforbers/burner-wallet-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport RedirectToSend from './ui/RedirectToSend';\nimport base64url from 'base64url';\nimport { bytesToHex } from './lib';\nvar PK_REGEX = /\\/pk#(0x[0-9a-f]{64})$/i;\nvar COMPRESSED_REGEX = /\\/pk#(\\w{43})$/;\n\nvar LinksPlugin =\n/*#__PURE__*/\nfunction () {\n  function LinksPlugin() {\n    _classCallCheck(this, LinksPlugin);\n  }\n\n  _createClass(LinksPlugin, [{\n    key: \"initializePlugin\",\n    value: function initializePlugin(pluginContext) {\n      pluginContext.addPage('/:address(0x[0-9a-f]{40});:amount([\\d\\.]+);:message', RedirectToSend);\n      pluginContext.onQRScanned(function (qr, ctx) {\n        if (PK_REGEX.test(qr)) {\n          var pk = PK_REGEX.exec(qr)[1];\n          ctx.actions.safeSetPK(pk);\n          return true;\n        }\n\n        if (COMPRESSED_REGEX.test(qr)) {\n          var compressedPk = COMPRESSED_REGEX.exec(qr)[1];\n\n          var _pk = bytesToHex(base64url.toBuffer(compressedPk));\n\n          ctx.actions.safeSetPK(_pk);\n          return true;\n        }\n      });\n    }\n  }]);\n\n  return LinksPlugin;\n}();\n\nexport { LinksPlugin as default };","map":null,"metadata":{},"sourceType":"module"}