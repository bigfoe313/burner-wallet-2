{"ast":null,"code":"import _slicedToArray from \"/home/aforbers/burner-wallet-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/home/aforbers/burner-wallet-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject10() {\n  const data = _taggedTemplateLiteral([\"\\n  display: flex;\\n\"]);\n\n  _templateObject10 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject9() {\n  const data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  flex: 1;\\n  justify-content: space-between;\\n\"]);\n\n  _templateObject9 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  const data = _taggedTemplateLiteral([\"\\n  margin: 8px 0 0;\\n  font-size: 16px;\\n\"]);\n\n  _templateObject8 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  const data = _taggedTemplateLiteral([\"\\n  background-color: transparent;\\n  outline: none;\\n  border: none;\\n  width: 100%;\\n  margin-left: 16px;\\n  text-align: right;\\n  font-size: 18px;\\n  transition: 0.15s ease-in-out;\\n  font-family: var(--main-font);\\n  padding: 16px;\\n  height: 3rem;\\n  border-radius: 2px;\\n\\n  &:hover {\\n    background: white;\\n  }\\n\\n  &:focus {\\n    background: hsla(0, 0%, 90%, 1);\\n    text-align: center;\\n  }\\n\"]);\n\n  _templateObject7 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  const data = _taggedTemplateLiteral([\"\\n  background: var(--color-primary);\\n  color: var(--color-tertiary);\\n  width: 100%;\\n\\n  &:before {\\n    background: var(--color-primary);\\n    color: var(--color-tertiary);\\n  }\\n\\n  &:disabled {\\n    opacity: 1;\\n    background: var(--color-disabled);\\n  }\\n\"]);\n\n  _templateObject6 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  const data = _taggedTemplateLiteral([\"\\n  text-align: center;\\n  border-radius: 100px;\\n  font-size: 18px;\\n  color: var(--color-primary);\\n  background: var(--color-tertiary);\\n  padding: 4px 16px;\\n  margin: 8px 0px;\\n  border: 0px;\\n  text-transform: uppercase;\\n  height: 32px;\\n\\n  &:hover {\\n    background: #aef4ed;\\n  }\\n\\n  &:focus {\\n    outline: none;\\n  }\\n\\n  &:before {\\n    background: var(--color-tertiary);\\n  }\\n\"]);\n\n  _templateObject5 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  const data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  align-content: center;\\n  width: 100%;\\n  height: 100%;\\n  border: 0;\\n  outline: 0;\\n  font-size: 80px;;\\n  background: none;\\n  box-shadow: none !important;\\n  text-align: center;\\n  padding: 0;\\n  font-family: var(--main-font);\\n\"]);\n\n  _templateObject4 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  const data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  flex-direction: column;\\n  flex: 1;\\n  text-align: center;\\n\"]);\n\n  _templateObject3 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  const data = _taggedTemplateLiteral([\"\\n  margin: 0;\\n  font-size: 14px;\\n\"]);\n\n  _templateObject2 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n  flex-direction: column;\\n  flex: 1;\\n  display: flex;\\n  margin-bottom: 10px;\\n\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState } from 'react';\nimport { withBurner, DataProviders } from '@burner-wallet/ui-core';\nimport styled from 'styled-components';\nimport AddressInputField from '../../components/AddressInputField';\nimport AssetSelector from '../../components/AssetSelector';\nimport Button from '../../components/Button';\nimport Page from '../../components/Page';\nconst FormContainer = styled.div(_templateObject());\nconst SendInstruction = styled.h2(_templateObject2());\nconst AmountWrapper = styled.div(_templateObject3());\nconst AmountInput = styled.input(_templateObject4());\nconst MaxButton = styled(Button)(_templateObject5());\nconst SendButton = styled(Button)(_templateObject6());\nconst TransferMessageInput = styled.input(_templateObject7());\nconst HowMuch = styled.h3(_templateObject8());\nconst Wrapper = styled.div(_templateObject9());\nconst MessageField = styled.div(_templateObject10());\nconst AccountBalance = DataProviders.AccountBalance;\n\nconst SendPage = ({\n  actions,\n  assets,\n  location,\n  t\n}) => {\n  const _useState = useState(location.state && location.state.to || ''),\n        _useState2 = _slicedToArray(_useState, 2),\n        to = _useState2[0],\n        setTo = _useState2[1];\n\n  const _useState3 = useState(null),\n        _useState4 = _slicedToArray(_useState3, 2),\n        account = _useState4[0],\n        setAccount = _useState4[1];\n\n  const _useState5 = useState(assets[0]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        asset = _useState6[0],\n        setAsset = _useState6[1];\n\n  const _useState7 = useState({\n    value: '0',\n    maxVal: null\n  }),\n        _useState8 = _slicedToArray(_useState7, 2),\n        val = _useState8[0],\n        setVal = _useState8[1];\n\n  const _useState9 = useState(''),\n        _useState10 = _slicedToArray(_useState9, 2),\n        message = _useState10[0],\n        setMessage = _useState10[1];\n\n  const value = val.value,\n        maxVal = val.maxVal;\n\n  const setValue = (value, maxVal = null) => setVal({\n    value,\n    maxVal\n  });\n\n  const scan = () => actions.scanQRCode().then(result => setTo(result)).catch(() => null);\n\n  const send = () => {\n    const sendProps = {\n      to,\n      asset: asset.id,\n      message: message.length > 0 ? message : null\n    };\n\n    if (maxVal) {\n      sendProps.value = maxVal;\n    } else {\n      sendProps.ether = value;\n    }\n\n    actions.send(sendProps);\n  };\n\n  const canSend = to.length === 42 && to && parseFloat(value) > 0;\n  return React.createElement(Page, {\n    title: t('Send')\n  }, React.createElement(AccountBalance, {\n    asset: asset,\n    render: data => {\n      const exceedsBalance = !!data && parseFloat(value) > parseFloat(data.displayMaximumSendableBalance);\n      return React.createElement(Wrapper, null, React.createElement(FormContainer, null, React.createElement(\"div\", null, React.createElement(SendInstruction, null, t('Send To')), React.createElement(AddressInputField, {\n        value: to,\n        account: account,\n        onChange: (_to, _account) => {\n          setTo(_to);\n          setAccount(_account);\n        },\n        scan: scan\n      })), React.createElement(AmountWrapper, null, React.createElement(HowMuch, null, t('How much do you want to send?')), React.createElement(AmountInput, {\n        type: \"number\",\n        placeholder: \"0\",\n        value: value,\n        onChange: e => setValue(e.target.value.replace(/^0+(?=\\d)/, '')),\n        min: \"0\"\n      }), React.createElement(MaxButton, {\n        onClick: () => {\n          if (data) {\n            setValue(data.displayMaximumSendableBalance, data.maximumSendableBalance);\n          }\n        }\n      }, \"Max\"), React.createElement(AssetSelector, {\n        selected: asset,\n        assets: assets,\n        onChange: newAsset => setAsset(newAsset)\n      })), asset.supportsMessages() && React.createElement(MessageField, null, React.createElement(\"h3\", null, t('Note'), \":\"), React.createElement(TransferMessageInput, {\n        placeholder: \"Optional\",\n        value: message,\n        onChange: e => setMessage(e.target.value)\n      }))), React.createElement(SendButton, {\n        onClick: () => send(),\n        disabled: !canSend || exceedsBalance\n      }, t('Send')));\n    }\n  }));\n};\n\nexport default withBurner(SendPage);","map":null,"metadata":{},"sourceType":"module"}