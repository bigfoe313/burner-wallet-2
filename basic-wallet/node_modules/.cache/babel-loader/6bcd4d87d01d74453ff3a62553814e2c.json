{"ast":null,"code":"import { Component } from 'react';\nimport { withBurner } from '../BurnerProvider';\n\nclass TransactionDetails extends Component {\n  constructor(props) {\n    super(props);\n    this._mounted = false;\n    this.state = {\n      tx: null\n    };\n  }\n\n  componentDidMount() {\n    this._mounted = true;\n    this.fetchData();\n  }\n\n  componentDidUpdate(oldProps) {\n    if (this.props !== oldProps) {\n      this.fetchData();\n    }\n  }\n\n  componentWillUnmount() {\n    this._mounted = false;\n  }\n\n  async fetchData() {\n    try {\n      const assetList = this.props.assets.filter(asset => asset.id == this.props.asset);\n\n      if (assetList.length == 0) {\n        throw new Error(\"Unable to find asset \".concat(this.props.asset));\n      }\n\n      const asset = assetList[0];\n      const tx = await asset.getTx(this.props.txHash);\n\n      if (this._mounted) {\n        this.setState({\n          tx\n        });\n        setTimeout(() => this.fetchData(), 2500);\n      }\n    } catch (err) {\n      console.warn(err);\n      setTimeout(() => this.fetchData(), 2500);\n    }\n  }\n\n  render() {\n    return this.props.render(this.state.tx);\n  }\n\n}\n\nexport default withBurner(TransactionDetails);","map":null,"metadata":{},"sourceType":"module"}