{"ast":null,"code":"import _slicedToArray from \"/home/aforbers/burner-wallet-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport ClipboardJS from 'clipboard';\n\nconst Clipboard = ({\n  text,\n  children\n}) => {\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        isCopied = _useState2[0],\n        setIsCopied = _useState2[1];\n\n  const targetEl = useRef(null);\n  const timer = useRef(0);\n  useEffect(() => {\n    if (targetEl.current) {\n      const afterCopy = () => {\n        setIsCopied(true);\n        clearTimeout(timer.current);\n        timer.current = window.setTimeout(() => setIsCopied(false), 1500);\n      };\n\n      const clipboard = new ClipboardJS(targetEl.current, {\n        text: () => text\n      });\n      clipboard.on('success', () => afterCopy());\n      clipboard.on('error', e => console.error('error: failed to copy text', e));\n      return () => {\n        clipboard.destroy();\n        clearTimeout(timer.current);\n      };\n    }\n  }, [targetEl.current]);\n  return React.createElement(\"div\", {\n    ref: targetEl\n  }, children(isCopied));\n};\n\nexport default Clipboard;","map":null,"metadata":{},"sourceType":"module"}