{"ast":null,"code":"const Gateway = require('./Gateway');\n\nconst Web3 = require('web3');\n\nclass HTTPGateway extends Gateway {\n  constructor(rpcUrl, networkId) {\n    super();\n    this.rpcUrl = rpcUrl;\n    this.networkId = networkId;\n    this._w3Provider = null;\n  }\n\n  isAvailable() {\n    return true;\n  }\n\n  getNetworks() {\n    return [this.networkId];\n  }\n\n  _provider() {\n    if (!this._w3Provider) {\n      this._w3Provider = new Web3.providers.HttpProvider(this.rpcUrl);\n    }\n\n    return this._w3Provider;\n  }\n\n  send(network, payload) {\n    return new Promise((resolve, reject) => {\n      if (network !== this.networkId) {\n        return reject(new Error('HTTPGateway does not support this network'));\n      }\n\n      this._provider(network).send(payload, (err, response) => {\n        if (err) {\n          return reject(err);\n        }\n\n        return resolve(response.result);\n      });\n    });\n  }\n\n}\n\nmodule.exports = HTTPGateway;","map":null,"metadata":{},"sourceType":"script"}