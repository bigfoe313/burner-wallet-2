{"ast":null,"code":"import _slicedToArray from \"/home/aforbers/burner-wallet-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState, useEffect, Fragment } from 'react';\nimport { useBurner } from '../BurnerProvider';\n\nvar History = function History(_ref) {\n  var account = _ref.account,\n      render = _ref.render;\n\n  var _useBurner = useBurner(),\n      actions = _useBurner.actions,\n      defaultAccount = _useBurner.defaultAccount;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      events = _useState2[0],\n      setEvents = _useState2[1];\n\n  var _account = account || defaultAccount;\n\n  useEffect(function () {\n    var _events = actions.getHistoryEvents({\n      account: _account\n    });\n\n    setEvents(_events);\n\n    var onHistoryEventCallback = function onHistoryEventCallback(event) {\n      if (event.to.toLowerCase() === _account.toLowerCase() || event.from.toLowerCase() === _account.toLowerCase()) {\n        _events.unshift(event);\n\n        setEvents(Array.from(_events));\n      }\n    };\n\n    actions.onHistoryEvent(onHistoryEventCallback);\n    return function () {\n      actions.removeHistoryEventListener(onHistoryEventCallback);\n    };\n  }, [_account]);\n  return React.createElement(Fragment, null, render(events));\n};\n\nexport default History;","map":null,"metadata":{},"sourceType":"module"}