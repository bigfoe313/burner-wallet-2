{"ast":null,"code":"import _slicedToArray from \"/home/aforbers/burner-wallet-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState, useEffect, Fragment } from 'react';\nimport { useBurner } from '../BurnerProvider';\n\nconst History = ({\n  account,\n  render\n}) => {\n  const _useBurner = useBurner(),\n        actions = _useBurner.actions,\n        defaultAccount = _useBurner.defaultAccount;\n\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        events = _useState2[0],\n        setEvents = _useState2[1];\n\n  const _account = account || defaultAccount;\n\n  useEffect(() => {\n    const _events = actions.getHistoryEvents({\n      account: _account\n    });\n\n    setEvents(_events);\n\n    const onHistoryEventCallback = event => {\n      if (event.to.toLowerCase() === _account.toLowerCase() || event.from.toLowerCase() === _account.toLowerCase()) {\n        _events.unshift(event);\n\n        setEvents(Array.from(_events));\n      }\n    };\n\n    actions.onHistoryEvent(onHistoryEventCallback);\n    return () => {\n      actions.removeHistoryEventListener(onHistoryEventCallback);\n    };\n  }, [_account]);\n  return React.createElement(Fragment, null, render(events));\n};\n\nexport default History;","map":null,"metadata":{},"sourceType":"module"}